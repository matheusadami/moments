<div class="flex flex-col items-center">
  <h1 class="text-2xl font-medium mb-8">Look the moments they're sharing...</h1>
  <form class="flex w-full" *ngIf="moments.length > 0">
    <div class="flex justify-center items-center w-[70%] mx-auto">
      <div class="relative text-gray-700 focus-within:text-gray-400 w-full">
        <span class="absolute inset-y-0 left-0 flex items-center pl-2">
          <button
            type="submit"
            class="p-1 focus:outline-none focus:shadow-outline"
          >
            <svg
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              class="w-6 h-6"
            >
              <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </button>
        </span>
        <input
          type="search"
          name="search"
          class="w-full py-2 text-sm text-gray-700 bg-gray-50 rounded-md pl-10 focus:outline-none focus:bg-white focus:text-gray-700 focus:ring-2 focus:ring-yellow-500"
          placeholder="Search for a moment..."
          autocomplete="off"
          (input)="searchMoments($event)"
        />
      </div>
    </div>
  </form>
  <div *ngIf="searchedMoments.length > 0; else noMoments" class="mt-8">
    <div
      class="flex items-center flex-wrap justify-between max-w-[85%] mx-auto"
    >
      <div class="w-[32%] mb-4" *ngFor="let item of searchedMoments">
        <img
          class="w-full rounded-md"
          src="{{ baseApiUrl }}/uploads/{{ item.image }}"
          alt="{{ item.title }}"
        />
        <div class="text-center my-4 space-y-2">
          <h3 class="text-lg font-medium">{{ item.title }}</h3>
          <p class="italic text-sm">
            On: <span> {{ item.createdAt }}</span>
          </p>
          <p>Comments: {{ item.comments?.length }}</p>
          <p>
            <a class="text-yellow-500" routerLink="moments/{{ item.id }}"
              >Details</a
            >
          </p>
        </div>
      </div>
    </div>
  </div>
  <ng-template #noMoments>
    <h1 class="text-sm italic font-medium my-8">
      No moments has found!
      <span
        ><a class="text-yellow-500 underline" routerLink="moments/create"
          >Share yours</a
        ></span
      >
    </h1>
  </ng-template>
</div>
